{% set canonicalUrl = page.url
  | replace("index.html", "")
%}

{% set segments = canonicalUrl | pathSegments | reject("equalto", "") %}
{% if segments.length > 1 %}
<nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="{% if lang == 'hi' %}/hi/{% else %}/{% endif %}">
  Home
</a>
  {% set currentPath = "/" %}

  {% for part in segments %}
    <span class="crumb-sep">â€º</span>
    {% set currentPath = currentPath + part + "/" %}

    {% if loop.last %}
      <a href="{{ canonicalUrl }}">
        {{ part | replace("-", " ") }}
      </a>
    {% else %}
      {% set hasIndex = false %}
      {% for p in collections.all %}
        {% if p.url == currentPath %}
          {% set hasIndex = true %}
        {% endif %}
      {% endfor %}

      {% if hasIndex %}
        <a href="{{ currentPath }}">
          {{ part | replace("-", " ") }}
        </a>
      {% else %}
        <span class="crumb-disabled">
          {{ part | replace("-", " ") }}
        </span>
      {% endif %}
    {% endif %}
  {% endfor %}
</nav>
{% endif %}
